<div class="account-card" [style.background]="getCardBackground()">

  <div class="card-top">
    <div class="top-left">
      <span class="bank-name">
        {{ account.type === AccountType.EFECTIVO ? 'BILLETERA' : (account.bankName || 'BANCO') }}
      </span>
      <span class="card-type">{{ account.type }}</span>
    </div>

    <div class="card-actions">
      <button class="action-btn edit" (click)="$event.stopPropagation(); edit.emit(account)" title="Editar">
        <span class="material-symbols-rounded">edit</span>
      </button>

      <button class="action-btn delete"
              [class.confirming]="isConfirmingDelete()"
              (click)="$event.stopPropagation(); handleDelete()"
              [title]="isConfirmingDelete() ? 'Â¿Confirmar?' : 'Eliminar'">
        <span class="material-symbols-rounded">
          {{ isConfirmingDelete() ? 'check_circle' : 'delete' }}
        </span>
      </button>
    </div>
  </div>

  <div class="card-chip" *ngIf="account.type !== AccountType.EFECTIVO">
    <div class="chip-line"></div>
    <div class="chip-line"></div>
    <div class="chip-line"></div>
  </div>

  <div class="icon-cash" *ngIf="account.type === AccountType.EFECTIVO">
    <span class="material-symbols-rounded">payments</span>
  </div>

  <div class="card-balance">
    <span class="currency-symbol">{{ account.currency === 'PEN' ? 'S/' : '$' }}</span>
    <span class="amount">{{ account.initialBalance | number:'1.2-2' }}</span>
  </div>

  <div class="card-bottom">
    <div class="holder-info">
      <span class="label">{{ account.type === AccountType.EFECTIVO ? 'PROPIETARIO' : 'TITULAR' }}</span>
      <span class="value">{{ account.name | uppercase }}</span>
    </div>
    <div class="currency-badge">
      {{ account.currency }}
    </div>
  </div>

</div>
